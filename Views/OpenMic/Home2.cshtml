<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>

<form class="mx-3 text-left mt-3" action="/Home" method="get">
  <div class="form-group">
    <label for="searchString">Search Text:</label>
    <input class="form-control form-control-sm" name="searchString" value="@ViewBag.searchString">
  </div>
  <div class="form-group">
    <label for="searchType">Type:</label>
    <select class="form-control form-control-sm" name="searchType">
      <option value="">All</option>
      @{
        if(ViewBag.searchType=="Music"){
          <option selected="selected" value="Music">Music</option>
          <option value="StandUp">Stand-Up Comedy</option>
          <option value="Poetry">Poetry</option>
        }
        else if(ViewBag.searchType=="StandUp"){
          <option value="Music">Music</option>
          <option selected="selected" value="StandUp">Stand-Up Comedy</option>
          <option value="Poetry">Poetry</option>
        }
        else if(ViewBag.searchType=="Poetry"){
          <option value="Music">Music</option>
          <option  value="StandUp">Stand-Up Comedy</option>
          <option selected="selected" value="Poetry">Poetry</option>
        }
        else{
          <option value="Music">Music</option>
          <option value="StandUp">Stand-Up Comedy</option>
          <option value="Poetry">Poetry</option>
        }
      }
    </select>
  </div>
  <div class="form-group">
    <label for="searchTime">Search Time:</label>
    <input class="form-control form-control-sm" name="searchTime" type="datetime-local" value="@ViewBag.searchTime">
  </div>
  <div class="form-group">
    <label for="searchGenre">Genre:</label>
    <select class="form-control form-control-sm" name="searchGenre">
      <option value="">All</option>
      @{
        foreach (var genre in ViewBag.Genres)
        {
          if(@genre.GenreID==ViewBag.searchGenre){
            <option selected="selected" value="@genre.GenreID">@genre.Name</option>
          }
          else{
            <option value="@genre.GenreID">@genre.Name</option>
          }  
        }
      }
    </select>
    </div>
    <div class="form-group">
      <label for="searchDistance">Distance (mi):</label>
      <input class="form-control form-control-sm" name="searchDistance" type="number" min="1" step="1" value="@ViewBag.searchDistance">
    </div>
    <div class="form-group">
      <label for="searchAddress">From Address:</label>
      <input class="form-control form-control-sm" name="searchAddress" value="@ViewBag.searchAddress">
    </div>
    <button type="submit" class="btn btn-primary btn-block mt-1 mb-3">Search</button>
  </form>

  <div class="grid">
  @foreach (var OpenMic in @Model){
    <div class="grid-item mb-3">
      <img src="@OpenMic.PhotoURL" alt="@OpenMic.Title" />
    </div>
  }
</div>

<script>
  $(".grid").imagesLoaded(function() {
    $(".grid").masonry({
      gutter: 10,
      itemSelector: ".grid-item"
    });
  });
</script>